this has been copied from another project and hacked intoworking with the current priject, a lot here is not neccessary and probably doesnt work correctly without the rest of the other project 
